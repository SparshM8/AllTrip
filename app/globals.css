@import 'lenis/dist/lenis.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

/* --------------------------------------
   Base Theme Variables & Resets
--------------------------------------- */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
    /* Legacy travel palette */
    --travel-sunset: 32 100% 50%;
    --travel-ocean: 199 89% 48%;
    --travel-forest: 158 64% 40%;
    --travel-sand: 40 80% 70%;
    --travel-sky: 204 94% 94%;
    /* Modern dark additions */
    --brand-accent: 24 92% 55%;
    --brand-accent-rgb: 255 111 40;
    --surface-base: 222 47% 6%;
    --surface-alt: 222 40% 10%;
    --surface-elevated: 222 32% 14%;
    --surface-raised: 222 28% 18%; /* added to match design system documentation */
    --border-subtle: 220 15% 18%;
    --text-strong: 0 0% 98%;
    --text-dim: 210 13% 60%;
    --text-primary: var(--text-strong); /* alias for docs parity */
    --text-secondary: var(--text-dim); /* alias for docs parity */
    --focus-ring: 24 92% 55%;
    --radius-sm: 0.375rem;
    --radius-md: 0.625rem;
    --radius-lg: 1rem;
    --transition-base: 180ms cubic-bezier(.4,0,.2,1);
  /* Fixed navbar height (used for anchor offsets) */
  --nav-height: 5rem;
    /* Typography scale */
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 1.875rem;
    --font-size-4xl: 2.25rem;
    --font-size-5xl: 3rem;
    --leading-tight: 1.15;
    --leading-normal: 1.4;
    --leading-relaxed: 1.6;
    color-scheme: light dark; /* Hint UA of supported schemes */
  }
  .dark {
    --background: var(--surface-base);
    --foreground: var(--text-strong);
    --card: var(--surface-alt);
    --card-foreground: var(--text-strong);
    --popover: var(--surface-alt);
    --popover-foreground: var(--text-strong);
    --primary: var(--text-strong);
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: var(--text-strong);
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: var(--text-dim);
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: var(--text-strong);
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: var(--text-strong);
    --border: var(--border-subtle);
    --input: var(--border-subtle);
    --ring: 212.7 26.8% 83.9%;
    color-scheme: dark; /* Native form controls in dark mode */
  }
  /* Replaced @apply border-border */
  * { border-color: hsl(var(--border)); }
  html, body { -ms-overflow-style: none; }
  @supports (scrollbar-width: none) {
    html, body { scrollbar-width: none; }
  }
  html::-webkit-scrollbar, body::-webkit-scrollbar { display: none; }
  html.lenis { height: auto; }
  .lenis.lenis-smooth { scroll-behavior: auto !important; }
  .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
}

/* --------------------------------------
   Component / Utility Layer
--------------------------------------- */
@layer components {
  /* Anchor-safe heading offsets */
  .anchor-offset { scroll-margin-top: var(--nav-height); }
  .prose h1, .prose h2, .prose h3, .prose h4 { scroll-margin-top: var(--nav-height); }
  /* Replaced Tailwind @apply utilities with raw CSS for editor compatibility */
  .card-modern {
    position: relative; /* relative */
    border-radius: 0.5rem; /* rounded-lg */
    background-color: hsl(var(--surface-alt)); /* bg-[hsl(var(--surface-alt))] */
    border: 1px solid hsl(var(--border-subtle)); /* border & color */
    box-shadow: 0 1px 2px 0 rgba(0,0,0,0.05); /* shadow-sm */
    transition: transform 200ms cubic-bezier(.4,0,.2,1); /* transition-transform duration-200 */
    will-change: transform; /* will-change-transform */
  }
  .card-modern:hover {
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.10), 0 2px 4px -2px rgba(0,0,0,0.10); /* shadow-md */
    transform: translateY(-0.125rem); /* -translate-y-0.5 */
  }
  .accent-underline { position: relative; }
  .accent-underline::after { content:""; position:absolute; left:0; bottom:-0.4rem; width:3.5rem; height:2px; background:linear-gradient(90deg,hsl(var(--brand-accent)) 0%,transparent 100%); border-radius:2px; }
  .section-shell {
    max-width: 80rem; /* max-w-7xl */
    margin-left: auto; margin-right: auto; /* mx-auto */
    padding-left: 1.5rem; padding-right: 1.5rem; /* px-6 */
  }
  @media (min-width: 768px) { /* md */
    .section-shell { padding-left: 2.5rem; padding-right: 2.5rem; } /* px-10 */
    .section-spacing { padding-top: 6rem; padding-bottom: 6rem; } /* py-24 */
    .heading-display { font-size: 3rem; line-height: 1; } /* text-5xl */
  }
  @media (min-width: 1024px) { /* lg */
    .section-shell { padding-left: 3rem; padding-right: 3rem; } /* px-12 */
  }
  .section-spacing { padding-top: 4rem; padding-bottom: 4rem; } /* py-16 */
  .heading-display {
    font-size: 2.25rem; line-height: 2.5rem; /* text-4xl */
    font-weight: 800; /* font-extrabold */
    letter-spacing: -0.025em; /* tracking-tight */
    color: #ffffff; /* text-white */
    letter-spacing: -0.02em; /* custom adjustment */
  }
  .focus-ring { outline: none; box-shadow: 0 0 0 2px hsl(var(--surface-base)), 0 0 0 4px hsl(var(--brand-accent)); }
  .focusable {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-duration: 150ms;
    transition-timing-function: cubic-bezier(.4,0,.2,1);
  }
  .focusable:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px hsl(var(--surface-alt)), 0 0 0 4px hsl(var(--brand-accent));
  }
  .text-dim { color: hsl(var(--text-dim)); }
  .divider-accent { background:linear-gradient(90deg,hsl(var(--brand-accent)) 0%,transparent 70%); height:1px; width:100%; opacity:.5; }
}

/* --------------------------------------
   Legacy helpers (kept for compatibility)
--------------------------------------- */
.animated-gradient { animation: gradient-animation 10s ease infinite; background-size:200% 200%; }
.bg-travel-gradient { background-image: linear-gradient(135deg,hsl(var(--travel-sunset)) 0%,hsl(var(--travel-ocean)) 50%,hsl(var(--travel-forest)) 100%); }
.glass { -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px); background: rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.2); }
.glass-card { -webkit-backdrop-filter: blur(12px); backdrop-filter: blur(12px); background:linear-gradient(180deg,rgba(255,255,255,0.14),rgba(255,255,255,0.06)); border:1px solid rgba(255,255,255,0.18); box-shadow:0 8px 24px rgba(0,0,0,0.15); }
.btn-gradient { background-image:linear-gradient(135deg,#10b981 0%,#22c55e 50%,#84cc16 100%); color:#fff; }
.btn-gradient:hover { filter:brightness(1.05); }
.section-ornament { background:radial-gradient(circle at 20% 20%,rgba(255,255,255,0.2),transparent 35%),radial-gradient(circle at 80% 0%,rgba(255,255,255,0.15),transparent 25%); }
@keyframes gradient-animation { 0%{background-position:0% 50%;} 50%{background-position:100% 50%;} 100%{background-position:0% 50%;} }

.hero .headline-sans {
  font-family: var(--font-montserrat), sans-serif;
  font-weight: 800;
  font-size: 3rem;
  color: #ffffff;
}

.hero .headline-sans span {
  color: #ffffff;
}

.hero p {
  font-family: var(--font-roboto), sans-serif;
  font-size: 1rem;
  color: #ffffff;
  line-height: 1.5;
  margin-top: 1em;
  margin-bottom: 2em;
}

.hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.3);
  z-index: 0;
}

.hero .content {
  position: relative;
  z-index: 1;
}

.popular-destinations {
  padding: 2rem;
}

.popular-destinations h2 {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 1.5rem;
}

.destinations-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 1rem;
}

.destination-card {
  text-align: left;
}

.destination-card img {
  width: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 0.75rem;
  display: block;
}

.destination-info {
  margin-top: 0.5rem;
}

.destination-name {
  font-size: 1rem;
  font-weight: 600;
  margin: 0;
}

.destination-location {
  font-size: 0.875rem;
  color: #6B7280;
  margin: 0.25rem 0 0;
}

.dark .destination-location {
  color: #D1D5DB;
}

.destination-name {
  color: #000000;
}

.dark .destination-name {
  color: #FFFFFF;
}

/* Blog dark mode styles */
.dark .blog-card-gradient {
  background: linear-gradient(to bottom right, #2a1810, #4a2c1a, #6b3f2a) !important;
}

.dark .prose {
  color: hsl(var(--foreground));
}

.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4,
.dark .prose h5,
.dark .prose h6 {
  color: hsl(var(--foreground));
}

.dark .prose p,
.dark .prose li,
.dark .prose dd {
  color: hsl(var(--muted-foreground));
}

.dark .prose strong {
  color: hsl(var(--foreground));
}

.dark .prose a {
  color: hsl(var(--primary));
}

.dark .prose a:hover {
  color: hsl(var(--primary));
  opacity: 0.8;
}

.dark .prose code {
  background-color: hsl(var(--muted));
  color: hsl(var(--foreground));
}

.dark .prose pre {
  background-color: hsl(var(--muted));
  color: hsl(var(--foreground));
}

.dark .prose blockquote {
  border-left-color: hsl(var(--border));
  color: hsl(var(--muted-foreground));
}

/* React Multi Date Picker Styles */
.rmdp-wrapper {
  font-family: inherit;
}

.rmdp-calendar {
  background: white;
  border-radius: 0.5rem;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  border: 1px solid #e5e7eb;
}

.rmdp-header {
  background: #f9fafb;
  border-bottom: 1px solid #e5e7eb;
  padding: 1rem;
  border-radius: 0.5rem 0.5rem 0 0;
}

.rmdp-header-values {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.rmdp-arrow-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.rmdp-arrow {
  width: 1.5rem;
  height: 1.5rem;
  border: none;
  background: none;
  cursor: pointer;
  color: #6b7280;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 0.25rem;
  transition: all 0.2s;
}

.rmdp-arrow:hover {
  background: #e5e7eb;
  color: #374151;
}

.rmdp-arrow-container.disabled .rmdp-arrow {
  opacity: 0.5;
  cursor: not-allowed;
}

.rmdp-week-day {
  color: #6b7280;
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 0.5rem 0;
  text-align: center;
}

.rmdp-day {
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  margin: 0.125rem;
}

.rmdp-day:hover {
  background: #f3f4f6;
}

.rmdp-day.rmdp-today {
  color: #FDBE00;
  font-weight: 700;
  position: relative;
}

.rmdp-day.rmdp-today::after {
  content: '';
  position: absolute;
  bottom: 2px;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 4px;
  background: #FDBE00;
  border-radius: 50%;
}

.rmdp-day.rmdp-selected {
  background: #FDBE00;
  color: black;
  font-weight: 600;
}

.rmdp-day.rmdp-disabled {
  color: #d1d5db;
  cursor: not-allowed;
}

.rmdp-day.rmdp-disabled:hover {
  background: transparent;
}

.rmdp-range {
  background: #fef3c7;
  color: #92400e;
}

.rmdp-range.rmdp-start,
.rmdp-range.rmdp-end {
  background: #FDBE00;
  color: black;
}

.rmdp-months {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  padding: 1rem;
}

.rmdp-month {
  min-width: 240px;
}

.rmdp-week {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 0.125rem;
  margin-bottom: 0.5rem;
}

.rmdp-day-picker {
  padding: 0;
}

/* Mobile responsive */
@media (max-width: 640px) {
  .rmdp-months {
    grid-template-columns: 1fr;
    gap: 0.5rem;
  }

  .rmdp-month {
    min-width: 280px;
  }

  .rmdp-calendar {
    max-width: 320px;
    margin: 0 auto;
  }
}

/* Dark mode support */
.dark .rmdp-calendar {
  background: #1f2937;
  border-color: #374151;
}

.dark .rmdp-header {
  background: #111827;
  border-color: #374151;
}

.dark .rmdp-week-day {
  color: #9ca3af;
}

.dark .rmdp-day {
  color: #f9fafb;
}

.dark .rmdp-day:hover {
  background: #374151;
}

.dark .rmdp-day.rmdp-selected {
  background: #FDBE00;
  color: black;
}

.dark .rmdp-range {
  background: #451a03;
  color: #fbbf24;
}

.dark .rmdp-day.rmdp-disabled {
  color: #6b7280;
}

/* Custom scrollbar styles */
@supports (scrollbar-width: thin) {
  .custom-scrollbar { scrollbar-width: thin; }
}
@supports (scrollbar-color: #000 #000) {
  .custom-scrollbar { scrollbar-color: #cbd5e0 #f7fafc; }
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: #f7fafc;
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #cbd5e0;
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #a0aec0;
}

@supports (scrollbar-color: #000 #000) {
  .dark .custom-scrollbar { scrollbar-color: #4a5568 #2d3748; }
}

.dark .custom-scrollbar::-webkit-scrollbar-track {
  background: #2d3748;
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background: #4a5568;
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #718096;
}

/* --------------------------------------
   Reduced Motion Adjustments
   (Gracefully strip non-essential animation / transforms)
--------------------------------------- */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 1ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 1ms !important;
    scroll-behavior: auto !important;
  }
  .animated-gradient { animation: none !important; }
  .card-modern, .card-modern:hover { transform: none !important; }
}

/* --------------------------------------
   Print Styles (baseline)
--------------------------------------- */
@media print {
  html, body { background: #ffffff !important; color: #000 !important; }
  body { box-shadow: none !important; }
  .hero::before, .animated-gradient, .section-ornament { display: none !important; }
  .card-modern { background: #fff !important; box-shadow: none !important; border-color: #ddd !important; }
  a { color: #000; text-decoration: underline; }
  a::after { content: " (" attr(href) ")"; font-size: 0.8em; }
  nav, footer, .no-print { display: none !important; }
  img, video { max-width: 100% !important; height: auto !important; }
  pre, code { background: #f5f5f5 !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
}
